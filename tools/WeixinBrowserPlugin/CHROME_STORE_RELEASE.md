# Chrome Web Store 发布指南

## 🚀 快速发布

### 1. 构建发布包
```bash
# 安装依赖（首次）
npm install

# 构建生产版本
npm run release
```

### 2. 发布包位置
- 📦 发布包：`release/senparc-weixin-ai-v0.1.0-release.zip`
- 📁 源文件：`release/` 目录

## 🔍 发布前检查清单

### ✅ 代码质量检查
- [ ] 所有调试信息已移除或隐藏
- [ ] 测试文件已排除
- [ ] 代码已压缩优化
- [ ] 无语法错误
- [ ] 权限设置合理

### ✅ Manifest 验证
- [ ] 版本号格式正确 (x.y.z)
- [ ] 描述信息完整
- [ ] 权限最小化原则
- [ ] 图标文件存在
- [ ] 内容脚本配置正确

### ✅ 功能测试
- [ ] 在目标网站正常工作
- [ ] 弹窗界面显示正常
- [ ] 所有功能可用
- [ ] 无控制台错误
- [ ] 调试模式可正常开启/关闭

## 🔧 调试模式说明

### 生产环境调试开关
在生产版本中，调试信息默认关闭。如需启用调试模式，可通过以下方式：

1. **URL 参数方式**：
   ```
   https://developers.weixin.qq.com/miniprogram/dev/api/?senparc_debug_mode=true
   ```

2. **Hash 参数方式**：
   ```
   https://developers.weixin.qq.com/miniprogram/dev/api/#senparc_debug_mode=true
   ```

3. **控制台手动启用**：
   ```javascript
   window.__SENPARC_DEBUG__.enabled = true;
   ```

### 调试信息包含
- 插件初始化日志
- 页面检测信息
- 功能执行状态
- 错误信息详情

## 📋 Chrome Web Store 提交步骤

### 1. 准备材料
- [ ] 扩展程序 ZIP 文件
- [ ] 应用图标 (128x128px)
- [ ] 截图 (1280x800px 或 640x400px)
- [ ] 宣传图片 (440x280px，可选)
- [ ] 详细描述
- [ ] 隐私政策（如适用）

### 2. 开发者控制台操作
1. 登录 [Chrome Web Store Developer Dashboard](https://chrome.google.com/webstore/devconsole)
2. 点击"添加新项目"
3. 上传 ZIP 文件
4. 填写商店详情：
   - 名称：WeChat Developer AI Assistant
   - 描述：微信文档页面AI助手，提供智能接口查询功能
   - 类别：开发者工具
   - 语言：中文 (简体)

### 3. 商店描述模板
```
微信开发者AI助手 - 让微信API文档查阅更高效！

🎯 主要功能：
• 智能接口查询和文档导航
• 微信小程序、公众号、企业微信API支持
• 浮动窗口，不干扰原页面浏览
• 一键停靠，提升开发效率

🔧 支持平台：
• 微信小程序开发文档
• 微信公众号开发文档  
• 微信支付开发文档
• 企业微信开发文档

✨ 特色亮点：
• 轻量级设计，不影响页面性能
• 智能识别当前文档内容
• 快速访问常用API接口
• 开发者友好的交互体验

🛡️ 隐私保护：
• 仅在微信官方文档页面激活
• 不收集用户个人信息
• 本地存储用户偏好设置
• 开源透明，安全可靠
```

### 4. 审核注意事项
- ✅ 确保只在声明的网站上运行
- ✅ 权限使用说明清晰
- ✅ 无恶意代码或混淆代码
- ✅ 功能描述与实际一致
- ✅ 遵守 Chrome Web Store 政策

## 🚨 常见审核问题及解决方案

### 权限过度申请
**问题**：申请了不必要的权限
**解决**：检查 manifest.json，移除未使用的权限

### 代码混淆
**问题**：代码过度压缩导致可读性差
**解决**：保持关键函数名不被混淆

### 功能描述不符
**问题**：实际功能与描述不匹配
**解决**：更新商店描述，确保准确性

### 调试信息泄露
**问题**：生产版本包含调试信息
**解决**：使用本构建脚本，确保调试信息被正确处理

## 📊 发布后监控

### 关键指标
- 安装量
- 用户评分
- 崩溃报告
- 用户反馈

### 更新策略
1. 收集用户反馈
2. 修复已知问题
3. 增加新功能
4. 定期更新版本

## 🔄 版本更新流程

1. 更新版本号（package.json 和 manifest.json）
2. 运行 `npm run release`
3. 测试新版本功能
4. 上传到 Chrome Web Store
5. 填写更新日志
6. 提交审核

## 📞 技术支持

如遇到发布问题，请检查：
1. 构建日志输出
2. Chrome 开发者工具控制台
3. manifest.json 语法
4. 权限配置正确性

---

**注意**：首次发布可能需要 1-3 个工作日审核，更新版本通常在几小时内完成审核。
