# 微信开发助手 - 使用说明

## 🚀 新功能：智能代码生成

### 功能描述
现在当您右键点击"插入微信接口"时，会出现一个智能输入弹窗，让您描述需要的微信接口功能，然后自动调用AI服务生成相应的代码并插入到光标位置。

### 使用步骤

1. **打开C#文件**：在VSCode中打开任意`.cs`文件
2. **定位光标**：将光标放在您想要插入代码的位置
3. **右键菜单**：右键点击，选择"插入微信接口"
4. **描述需求**：在弹出的输入框中描述您的需求
   - 例如：`获取用户信息`
   - 例如：`发送模板消息`
   - 例如：`创建自定义菜单`
5. **等待生成**：系统会自动调用AI服务生成代码
6. **代码插入**：生成的代码会自动插入到光标位置

### 功能特点

- ✅ **智能输入验证**：确保输入的需求描述有效
- ✅ **实时进度提示**：显示代码生成进度
- ✅ **错误处理**：网络错误、超时等异常情况的友好提示
- ✅ **代码注释**：自动添加需求描述和生成时间注释
- ✅ **配置支持**：支持自定义API地址和调试模式

### 配置选项

在VSCode设置中搜索"weixindev"可以找到以下配置项：

- `weixindev.apiUrl`：AI服务API地址（默认：https://sdk.weixin.senparc.com/AiDoc）
- `weixindev.enableDebugMode`：启用调试模式，显示详细错误信息
- `weixindev.autoInsertComments`：自动插入提示注释

### 示例需求描述

以下是一些有效的需求描述示例：

```
获取用户基本信息
发送客服消息
创建临时二维码
上传多媒体文件
获取微信服务器IP列表
发送模板消息给用户
创建个性化菜单
获取用户列表
发送图文消息
处理用户消息回调
```

### 故障排除

如果遇到问题，请检查：

1. **网络连接**：确保能够访问 `https://sdk.weixin.senparc.com`
2. **输入格式**：需求描述至少3个字符
3. **文件类型**：确保在`.cs`文件中使用
4. **调试模式**：启用调试模式查看详细错误信息

### 技术实现

- 使用 `vscode.window.showInputBox` 创建输入弹窗
- 使用 `axios` 发送HTTP请求到AI服务
- 使用 `vscode.window.withProgress` 显示进度提示
- 支持多种响应格式的智能解析
- 完整的错误处理和用户反馈机制

---

**开发者**：Senparc团队  
**版本**：1.0.0  
**更新时间**：2025年9月28日
